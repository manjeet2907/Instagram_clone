{"version":3,"sources":["Components/Navbar.js","Components/Sidebar.js","Components/Screens/Home.js","Components/Screens/Signin.js","Components/Screens/Signup.js","Components/Screens/Profile.js","Components/Screens/CreatePost.js","Components/Screens/UserProfile.js","Components/Screens/SubscribedUserPosts.js","reducers/userReducer.js","Components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","History","useHistory","className","exact","to","id","onClick","localStorage","clear","type","push","Sidebar","src","pic","alt","name","Home","useState","data","setData","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","posts","map","item","postedBy","_id","style","float","color","postid","method","error","M","toast","html","classes","newData","filter","photo","likes","includes","body","JSON","stringify","postId","catch","err","console","log","length","title","comments","record","fontSize","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","Signin","password","setPassword","email","setEmail","onChange","test","setItem","token","user","payload","Signup","setName","image","setImage","undefined","url","setUrl","uploadFields","message","PostData","FormData","append","uploadPic","files","Profile","mypics","setmyPics","mypost","followers","following","file","CreatePost","setTitle","setBody","postDetails","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","ind","reducer","action","Footer","createContext","Routing","parse","path","UserProfile","SubscribedUserPosts","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4621f765.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Navbar() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const History = useHistory();\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li key='1'>\r\n          <Link to='/profile'>Profile</Link>\r\n        </li>,\r\n        <li key='2'>\r\n          <Link to='/myfollowingpost'>Posts</Link>\r\n        </li>,\r\n        <li key='3'>\r\n          <Link to='/create'>\r\n            <i className='material-icons'>add</i>\r\n          </Link>\r\n        </li>,\r\n        <li key='4'>\r\n          <button\r\n            className='btn waves-effect waves-light'\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: \"CLEAR\" });\r\n              History.push(\"/signin\");\r\n            }}>\r\n            Log Out\r\n          </button>\r\n        </li>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li key='5'>\r\n          <Link to='/signin'>Login</Link>\r\n        </li>,\r\n        <li key='6'>\r\n          <Link to='/signup'>Sign Up</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className='navbar-fixed'>\r\n        <nav>\r\n          <div className='nav-wrapper'>\r\n            <Link exact to={state ? \"/\" : \"/signin\"} className='brand-logo'>\r\n              Instagram\r\n            </Link>\r\n            <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n              {renderList()}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Sidebar() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const History = useHistory();\r\n  return (\r\n    <div className='sidebar'>\r\n      <div className='auser_info'>\r\n        <img src={state ? state.pic : \"loading\"} alt='profilepic' />\r\n        <div className='user_details'>\r\n          <h5>{state ? state.name : \"loading\"}</h5>\r\n          <h6\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: \"CLEAR\" });\r\n              History.push(\"/signin\");\r\n            }}>\r\n            Logout\r\n          </h6>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div>\r\n        <Link className='options' to='/create'>\r\n          <h6>\r\n            Create Post <i className='material-icons'>add</i>\r\n          </h6>\r\n        </Link>\r\n      </div>\r\n      {/* <div className=\"user_all\">\r\n                <div className=\"user_info\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"profilepic\" />\r\n                    <div className=\"user_details\">\r\n                        <h6>RK Sharma</h6>\r\n                    </div>\r\n                    <h6>Follow</h6>\r\n                </div>\r\n                <div className=\"user_info\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"profilepic\" />\r\n                    <div className=\"user_details\">\r\n                        <h6>RK Sharma</h6>\r\n                    </div>\r\n                    <h6>Follow</h6>\r\n                </div>\r\n                <div className=\"user_info\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"profilepic\" />\r\n                    <div className=\"user_details\">\r\n                        <h6>RK Sharma</h6>\r\n                    </div>\r\n                    <h6>Follow</h6>\r\n                </div>\r\n            </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n// import Post from '../Post';\r\nimport Sidebar from \"../Sidebar\";\r\nimport { UserContext } from \"../../App\";\r\nimport M from \"materialize-css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch(\"/allpost\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch(\"/like\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const unlikePost = (id) => {\r\n    fetch(\"/unlike\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        // console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const makeComment = (text, postId) => {\r\n    fetch(\"/comment\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId,\r\n        text: text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`/deletepost/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.error) {\r\n          M.toast({ html: result.error, classes: \"#d32f2f red darken-2\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"Post Deleted Successfully\",\r\n            classes: \"#4caf50 green\",\r\n          });\r\n          const newData = data.filter((item) => {\r\n            return item._id !== result._id;\r\n          });\r\n          setData(newData);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      <div id='post'>\r\n        {data.map((item) => {\r\n          return (\r\n            <div className='postcard'>\r\n              <div className='card' key={item._id}>\r\n                <div className='dp'>\r\n                  <h5>\r\n                    <img src={item.postedBy.pic} alt='dp' />\r\n                    <Link\r\n                      to={\r\n                        item.postedBy._id !== state._id\r\n                          ? \"/profile/\" + item.postedBy._id\r\n                          : \"/profile\"\r\n                      }>\r\n                      {item.postedBy.name}\r\n                    </Link>{\" \"}\r\n                  </h5>\r\n                  <h4>\r\n                    {item.postedBy._id === state._id && (\r\n                      <i\r\n                        className='material-icons'\r\n                        style={{\r\n                          float: \"right\",\r\n                          color: \"#f44336\",\r\n                        }}\r\n                        onClick={() => deletePost(item._id)}>\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h4>\r\n                </div>\r\n                <img src={item.photo} alt='status' />\r\n              </div>\r\n              <div className='card-content'>\r\n                {/* <i className=\"material-icons\" style={{color:\"#e53935\"}}>favorite</i> */}\r\n                {item.likes.includes(state._id) ? (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => unlikePost(item._id)}>\r\n                    thumb_down\r\n                  </i>\r\n                ) : (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => likePost(item._id)}>\r\n                    thumb_up\r\n                  </i>\r\n                )}\r\n                <h5>{item.likes.length} likes</h5>\r\n                <h5>{item.title}</h5>\r\n                <h6>{item.body}</h6>\r\n                <hr />\r\n                {item.comments.map((record) => {\r\n                  return (\r\n                    <h6>\r\n                      <span style={{ fontSize: \"1.6rem\", fontWeight: \"400\" }}>\r\n                        {record.postedBy.name}\r\n                      </span>{\" \"}\r\n                      {record.text}\r\n                    </h6>\r\n                  );\r\n                })}\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    makeComment(e.target[0].value, item._id);\r\n                  }}>\r\n                  <input type='text' placeholder='add a Comment' />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n\r\n/* <Post\r\n    key={item._id}\r\n    title={item.title}\r\n    body={item.body}\r\n    img={item.photo}\r\n    likes={item.likes.length}\r\n    postedBy={item.postedBy.name}\r\n    like={likePost(item._id)}\r\n    unlike={unlikePost(item._id)}\r\n/> */\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction Signin() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const History = useHistory();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const PostData = () => {\r\n    if (\r\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      M.toast({ html: \"Invalid Email \", classes: \"#d32f2f red darken-2\" });\r\n      return;\r\n    }\r\n    fetch(\"/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#d32f2f red darken-2\" });\r\n        } else {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          dispatch({\r\n            type: \"USER\",\r\n            payload: data.user,\r\n          });\r\n          M.toast({ html: \"Signed In\", classes: \"#4caf50 green\" });\r\n          History.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <div className='card'>\r\n        <div className='card-content white-text'>\r\n          <span className='card-title'>Instagram</span>\r\n          <form className='col s12'>\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                <input\r\n                  id='email'\r\n                  type='email'\r\n                  className='validate'\r\n                  placeholder='Enter Your Email'\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                <input\r\n                  id='password'\r\n                  type='password'\r\n                  placeholder='Enter Your password'\r\n                  className='validate'\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className='input-field col s12'>\r\n              <button\r\n                className='btn waves-effect waves-light'\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  PostData();\r\n                }}>\r\n                Log in\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className='card-action'>\r\n          <h6>\r\n            Don't have an Account ?{\" \"}\r\n            <span>\r\n              <Link to='/signUp'>Sign up instead</Link>{\" \"}\r\n            </span>{\" \"}\r\n          </h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction Signup() {\r\n  const History = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(undefined);\r\n  useEffect(() => {\r\n    if (url) {\r\n      uploadFields();\r\n    }\r\n  }, [url]);\r\n\r\n  const uploadPic = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"dtcqgxgzc\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/dtcqgxgzc/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const uploadFields = () => {\r\n    if (\r\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n        email\r\n      )\r\n    ) {\r\n      M.toast({ html: \"Invalid Email \", classes: \"#d32f2f red darken-2\" });\r\n      return;\r\n    }\r\n    fetch(\"/signup\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        email,\r\n        password,\r\n        pic: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#d32f2f red darken-2\" });\r\n        } else {\r\n          M.toast({ html: data.message, classes: \"#4caf50 green\" });\r\n          History.push(\"/signIn\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const PostData = () => {\r\n    if (image) {\r\n      uploadPic();\r\n    } else {\r\n      uploadFields();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='card'>\r\n        <div className='card-content white-text'>\r\n          <span className='card-title'>Instagram</span>\r\n          <form className='col s12'>\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                <input\r\n                  placeholder='Enter Your full Name'\r\n                  id='full_name'\r\n                  type='text'\r\n                  className='validate'\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                <input\r\n                  id='email'\r\n                  type='email'\r\n                  className='validate'\r\n                  placeholder='Enter Your Email'\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className='file-field input-field'>\r\n              <div className='btn'>\r\n                <span>Upload Pic</span>\r\n                <input\r\n                  type='file'\r\n                  onChange={(e) => {\r\n                    setImage(e.target.files[0]);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className='file-path-wrapper'>\r\n                <input className='file-path validate' type='text' />\r\n              </div>\r\n            </div>\r\n            <div className='row'>\r\n              <div className='input-field col s12'>\r\n                <input\r\n                  id='password'\r\n                  type='password'\r\n                  placeholder='Enter Your password'\r\n                  className='validate'\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className='input-field col s12'>\r\n              <button\r\n                className='btn waves-effect waves-light'\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  PostData();\r\n                }}>\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className='card-action'>\r\n          <h6>\r\n            Already have an Account ?{\" \"}\r\n            <span>\r\n              <Link to='/signIn'>Login instead</Link>{\" \"}\r\n            </span>{\" \"}\r\n          </h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserContext } from \"../../App\";\r\n\r\nfunction Profile() {\r\n  const [mypics, setmyPics] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const [image, setImage] = useState(\"\");\r\n  // const [url, setUrl] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/mypost\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setmyPics(result.mypost);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    if (image) {\r\n      const data = new FormData();\r\n      data.append(\"file\", image);\r\n      data.append(\"upload_preset\", \"insta-clone\");\r\n      data.append(\"cloud_name\", \"dtcqgxgzc\");\r\n\r\n      fetch(\"https://api.cloudinary.com/v1_1/dtcqgxgzc/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          // setUrl(data.url)\r\n          // localStorage.setItem('user',JSON.stringify({...state,pic:data.url}))\r\n          // dispatch({type:'UPDATEPIC',payload:data.url})\r\n          fetch(\"/updatepic\", {\r\n            method: \"put\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({\r\n              pic: data.url,\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              localStorage.setItem(\r\n                \"user\",\r\n                JSON.stringify({ ...state, pic: data.pic })\r\n              );\r\n              dispatch({ type: \"UPDATEPIC\", payload: result.pic });\r\n              // window.location.reload()\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePic = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  return (\r\n    <div className='profile'>\r\n      <div className='user_info'>\r\n        <div className='img'>\r\n          <img src={state ? state.pic : \"loading\"} alt='profilepic' />\r\n        </div>\r\n        <div className='user_details'>\r\n          <h4>{state ? state.name : \"loading\"}</h4>\r\n          <div className='stats'>\r\n            <div className='stat post'>\r\n              <div className='counts'>{mypics.length}</div>\r\n              <div className='count_name'>Posts</div>\r\n            </div>\r\n            <div className='stat followers'>\r\n              <div className='counts'>{state ? state.followers.length : 0}</div>\r\n              <div className='count_name'>Followers</div>\r\n            </div>\r\n            <div className='stat following'>\r\n              <div className='counts'>{state ? state.following.length : 0}</div>\r\n              <div className='count_name'>Following</div>\r\n            </div>\r\n          </div>\r\n          <div className='user_personal'>\r\n            <h6>\r\n              {state ? state.name : \"loading\"} <br /> (\r\n              {state ? state.email : \"loading\"})\r\n            </h6>\r\n          </div>\r\n          <div className='createpost'>\r\n            <div>\r\n              <Link to='/create'>\r\n                <h6>\r\n                  Create Post <i className='material-icons'>add</i>\r\n                </h6>\r\n              </Link>\r\n            </div>\r\n            <div className='file-field input-field'>\r\n              <div className='btn'>\r\n                <span>Update Pic</span>\r\n                <input\r\n                  type='file'\r\n                  onChange={(e) => {\r\n                    updatePic(e.target.files[0]);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className='file-path-wrapper'>\r\n                <input className='file-path validate' type='text' />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* <div className=\"statuses\">\r\n                <div className=\"status\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"statusImage\" />\r\n                    <h6>status</h6>\r\n                </div>\r\n                <div className=\"status\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"statusImage\" />\r\n                    <h6>status</h6>\r\n                </div>\r\n            </div> */}\r\n      <hr />\r\n      <div className='posts'>\r\n        {mypics.map((item) => {\r\n          return <img key={item._id} src={item.photo} alt='mygallery' />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport M from \"materialize-css\";\r\n\r\nfunction CreatePost() {\r\n  const History = useHistory();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch(\"/createpost\", {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          body,\r\n          pic: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.error) {\r\n            M.toast({ html: data.error, classes: \"#d32f2f red darken-2\" });\r\n          } else {\r\n            M.toast({ html: \"Posted Successfully\", classes: \"#4caf50 green\" });\r\n            History.push(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [url]);\r\n\r\n  const postDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"insta-clone\");\r\n    data.append(\"cloud_name\", \"dtcqgxgzc\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/dtcqgxgzc/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='createpost'>\r\n      <div className='card input-filed'>\r\n        <h4>Create Post</h4>\r\n        <input\r\n          type='text'\r\n          placeholder='Title'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type='text'\r\n          placeholder='Body'\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <div className='file-field input-field'>\r\n          <div className='btn'>\r\n            <span>Upload Pic</span>\r\n            <input\r\n              type='file'\r\n              onChange={(e) => {\r\n                setImage(e.target.files[0]);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='file-path-wrapper'>\r\n            <input className='file-path validate' type='text' />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='btn waves-effect waves-light'\r\n          onClick={() => postDetails()}>\r\n          Submit Post\r\n          <i className='material-icons right'>send</i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePost;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n// import { Link } from 'react-router-dom';\r\nimport { UserContext } from \"../../App\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction Profile() {\r\n  const [userProfile, setProfile] = useState(null);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { userid } = useParams();\r\n  const [showfollow, setShowFollow] = useState(\r\n    state ? !state.following.includes(userid) : true\r\n  );\r\n  // console.log(userid)\r\n\r\n  useEffect(() => {\r\n    fetch(`/user/${userid}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setProfile(result);\r\n      });\r\n  }, []);\r\n\r\n  const followUser = () => {\r\n    fetch(\"/follow\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        followId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem(\"user\", JSON.stringify(data));\r\n        setProfile((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: [...prevState.user.followers, data._id],\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(false);\r\n      });\r\n  };\r\n  const unfollowUser = () => {\r\n    fetch(\"/unfollow\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId: userid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: \"UPDATE\",\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem(\"user\", JSON.stringify(data));\r\n\r\n        setProfile((prevState) => {\r\n          const newFollower = prevState.user.followers.filter(\r\n            (item) => item !== data._id\r\n          );\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: newFollower,\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(true);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      {userProfile ? (\r\n        <div className='profile'>\r\n          <div className='user_info'>\r\n            <div className='img'>\r\n              <img src={userProfile.user.pic} alt='profilepic' />\r\n            </div>\r\n            <div className='user_details'>\r\n              <h4>{userProfile.user.name}</h4>\r\n              <div className='stats'>\r\n                <div className='stat post'>\r\n                  <div className='counts'>{userProfile.posts.length}</div>\r\n                  <div className='count_name'> Posts</div>\r\n                </div>\r\n                <div className='stat followers'>\r\n                  <div className='counts'>\r\n                    {userProfile.user.followers.length}\r\n                  </div>\r\n                  <div className='count_name'>Followers</div>\r\n                </div>\r\n                <div className='stat following'>\r\n                  <div className='counts'>\r\n                    {userProfile.user.following.length}\r\n                  </div>\r\n                  <div className='count_name'>Following</div>\r\n                </div>\r\n              </div>\r\n              <div className='user_personal'>\r\n                <h6>\r\n                  {userProfile.user.name} <br /> ({userProfile.user.email})\r\n                </h6>\r\n                <h6>\r\n                  {showfollow ? (\r\n                    <button\r\n                      className='btn waves-effect waves-light'\r\n                      onClick={(e) => {\r\n                        // e.preventDefault();\r\n                        followUser();\r\n                      }}>\r\n                      Follow\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      className='btn waves-effect waves-light'\r\n                      onClick={(e) => {\r\n                        // e.preventDefault();\r\n                        unfollowUser();\r\n                      }}>\r\n                      UnFollow\r\n                    </button>\r\n                  )}\r\n                </h6>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"statuses\">\r\n                <div className=\"status\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"statusImage\" />\r\n                    <h6>status</h6>\r\n                </div>\r\n                <div className=\"status\">\r\n                    <img src=\"https://images.unsplash.com/photo-1484186304838-0bf1a8cff81c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80\" alt=\"statusImage\" />\r\n                    <h6>status</h6>\r\n                </div>\r\n            </div> */}\r\n          <hr />\r\n          <div className='posts'>\r\n            {userProfile.posts.map((item) => {\r\n              return <img key={item._id} src={item.photo} alt='mygallery' />;\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2>Loading.....</h2>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n// import Post from '../Post';\r\nimport Sidebar from \"../Sidebar\";\r\nimport { UserContext } from \"../../App\";\r\nimport M from \"materialize-css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n  const [data, setData] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch(\"/getsubpost\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch(\"/like\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const unlikePost = (id) => {\r\n    fetch(\"/unlike\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        // console.log(result)\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const makeComment = (text, postId) => {\r\n    fetch(\"/comment\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId,\r\n        text: text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deletePost = (postid) => {\r\n    fetch(`/deletepost/${postid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if (result.error) {\r\n          M.toast({ html: result.error, classes: \"#d32f2f red darken-2\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"Post Deleted Successfully\",\r\n            classes: \"#4caf50 green\",\r\n          });\r\n          const newData = data.filter((item) => {\r\n            return item._id !== result._id;\r\n          });\r\n          setData(newData);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      <div id='post'>\r\n        {data.map((item, ind) => {\r\n          return (\r\n            <div className='postcard'>\r\n              <div className='card' key={item._id}>\r\n                <div className='dp'>\r\n                  <h5>\r\n                    <img src={item.postedBy.pic} alt='dp' />\r\n                    <Link\r\n                      to={\r\n                        item.postedBy._id !== state._id\r\n                          ? `/profile/${item.postedBy._id}`\r\n                          : `/profile/`\r\n                      }>\r\n                      {item.postedBy.name}{\" \"}\r\n                    </Link>{\" \"}\r\n                  </h5>\r\n                  <h4>\r\n                    {item.postedBy._id === state._id && (\r\n                      <i\r\n                        className='material-icons'\r\n                        style={{\r\n                          float: \"right\",\r\n                          color: \"#f44336\",\r\n                        }}\r\n                        onClick={() => deletePost(item._id)}>\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h4>\r\n                </div>\r\n                <img src={item.photo} alt='status' />\r\n              </div>\r\n              <div className='card-content'>\r\n                {/* <i className=\"material-icons\" style={{color:\"#e53935\"}}>favorite</i> */}\r\n                {item.likes.includes(state._id) ? (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => unlikePost(item._id)}>\r\n                    thumb_down\r\n                  </i>\r\n                ) : (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => likePost(item._id)}>\r\n                    thumb_up\r\n                  </i>\r\n                )}\r\n                <h5>{item.likes.length} likes</h5>\r\n                <h5>{item.title}</h5>\r\n                <h6>{item.body}</h6>\r\n                {item.comments.map((record) => {\r\n                  return (\r\n                    <h6>\r\n                      <span style={{ fontSize: \"1.6rem\", fontWeight: \"500\" }}>\r\n                        {record.postedBy.name}\r\n                      </span>\r\n                      {record.text}\r\n                    </h6>\r\n                  );\r\n                })}\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    makeComment(e.target[0].value, item._id);\r\n                  }}>\r\n                  <input type='text' placeholder='add a Comment' />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n\r\n/* <Post\r\n    key={item._id}\r\n    title={item.title}\r\n    body={item.body}\r\n    img={item.photo}\r\n    likes={item.likes.length}\r\n    postedBy={item.postedBy.name}\r\n    like={likePost(item._id)}\r\n    unlike={unlikePost(item._id)}\r\n/> */\r\n","export const initialState =null;\r\n\r\nexport const reducer =(state,action)=>{\r\n    if(action.type ==='USER'){\r\n        return action.payload\r\n    }\r\n    if(action.type ==='CLEAR'){\r\n        return null\r\n    }\r\n    if(action.type === 'UPDATE'){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type === 'UPDATEPIC'){\r\n        return {\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n}","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nfunction Footer() {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const History = useHistory();\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li key='1'>\r\n          <div className='img'>\r\n            <img src={state ? state.pic : \"loading\"} alt='profilepic' />\r\n            <h6>{state ? state.name : \"loading\"}</h6>\r\n          </div>\r\n        </li>,\r\n        <li key='2'>\r\n          <Link to='/profile'>Profile</Link>\r\n        </li>,\r\n        <li key='3'>\r\n          <Link to='/myfollowingpost'>Posts</Link>\r\n        </li>,\r\n        <li key='4'>\r\n          <Link to='/create'>\r\n            <i className='material-icons'>add</i>\r\n          </Link>\r\n        </li>,\r\n        <li key='5'>\r\n          <button\r\n            className='btn waves-effect waves-light'\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: \"CLEAR\" });\r\n              History.push(\"/signin\");\r\n            }}>\r\n            Log Out\r\n          </button>\r\n        </li>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li key='6'>\r\n          <Link to='/signin'>Login</Link>\r\n        </li>,\r\n        <li key='7'>\r\n          <Link to='/signup'>Sign Up</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className='footer'>\r\n        <div className='page-footer'>\r\n          <ul className='black-text'>{renderList()}</ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { createContext, useReducer, useEffect, useContext } from \"react\";\nimport \"./Styles/app.css\";\nimport Navbar from \"./Components/Navbar\";\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport Home from \"./Components/Screens/Home\";\nimport Signin from \"./Components/Screens/Signin\";\nimport Signup from \"./Components/Screens/Signup\";\nimport Profile from \"./Components/Screens/Profile\";\nimport CreatePost from \"./Components/Screens/CreatePost\";\nimport UserProfile from \"./Components/Screens/UserProfile\";\nimport SubscribedUserPosts from \"./Components/Screens/SubscribedUserPosts\";\nimport { reducer, initialState } from \"./reducers/userReducer\";\nimport Footer from \"./Components/Footer\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const History = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({\n        type: \"USER\",\n        payload: user,\n      });\n      // History.push('/')\n    } else {\n      History.push(\"/signIn\");\n    }\n  }, []);\n  return (\n    <Switch>\n      <Route exact path='/'>\n        <Home />\n      </Route>\n      <Route path='/signIn'>\n        <Signin />\n      </Route>\n      <Route path='/signUp'>\n        <Signup />\n      </Route>\n      <Route exact path='/profile'>\n        <Profile />\n      </Route>\n      <Route path='/create'>\n        <CreatePost />\n      </Route>\n      <Route path='/profile/:userid'>\n        <UserProfile />\n      </Route>\n      <Route path='/myfollowingpost'>\n        <SubscribedUserPosts />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing />\n        <Footer />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}